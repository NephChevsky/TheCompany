<div class="content">
	<div class="fields">
		<h3>{{ "Modules.InvoiceExtraction.FieldExtraction" | translate }}</h3>
		<br />
		<form [formGroup]="invoiceSettingsForm">
			<table class="main">
				<tr formArrayName="fields" *ngFor="let item of invoiceFields.controls; let i = index">
					<td>{{item.get('name').value}}</td>
					<td>
						<table [formGroupName]="i" (click)="showBoundingBox(i)">
							<tr>
								<td>{{ "Modules.InvoiceExtraction.X" | translate }}:</td>
								<td><input id="{{item.get('name').value + '-x'}}" type="number" formControlName="x"></td>
							</tr>
							<tr>
								<td>{{ "Modules.InvoiceExtraction.Y" | translate }}:</td>
								<td><input id="{{item.get('name').value + '-y'}}" type="number" formControlName="y"></td>
							</tr>
							<tr>
								<td>{{ "Modules.InvoiceExtraction.Height" | translate }}:</td>
								<td><input id="{{item.get('name').value + '-height'}}" type="number" formControlName="height"></td>
							</tr>
							<tr>
								<td>{{ "Modules.InvoiceExtraction.Width" | translate }}:</td>
								<td><input id="{{item.get('name').value + '-width'}}" type="number" formControlName="width"></td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</form>
		<br /><br /><br />
		<h3>{{ "Modules.InvoiceExtraction.LineItemExtraction" | translate }}</h3>
		<br />
		<form [formGroup]="lineItemSettingsForm">
			<table class="main">
				<tr formArrayName="fields" *ngFor="let item of lineItemFields.controls; let i = index">
					<td>{{item.get('name').value}}</td>
					<td *ngIf="item.get('name').value == 'Box'">
						<table [formGroupName]="i" (click)="showBoundingBox(i)">
							<tr>
								<td>{{ "Modules.InvoiceExtraction.Y" | translate }}:</td>
								<td><input id="{{item.get('name').value + '-y'}}" type="number" formControlName="y"></td>
							</tr>
							<tr>
								<td>{{ "Modules.InvoiceExtraction.Height" | translate }}:</td>
								<td><input id="{{item.get('name').value + '-height'}}" type="number" formControlName="height"></td>
							</tr>
						</table>
					</td>
					<td *ngIf="item.get('name').value != 'Box'">
						<table [formGroupName]="i" (click)="showBoundingBox(i)">
							<tr>
								<td>{{ "Modules.InvoiceExtraction.X" | translate }}:</td>
								<td><input id="{{item.get('name').value + '-x'}}" type="number" formControlName="x"></td>
							</tr>
							<tr>
								<td>{{ "Modules.InvoiceExtraction.Width" | translate }}:</td>
								<td><input id="{{item.get('name').value + '-width'}}" type="number" formControlName="width"></td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</form>
		<br />
		<br />
		<button class="btn btn-secondary" (click)="onCancel()">{{ "Modules.InvoiceExtraction.Cancel" | translate }}</button>
		<button id="save" class="btn btn-primary" (click)="onSubmit()">{{ "Modules.InvoiceExtraction.Save" | translate }}</button>
	</div>
	<div class="invoicePreview">
		<div mat-dialog-content>
			<div>
				<input type="file" name="file" (change)="onFileChange($event)" />
			</div>
		</div>
		<app-preview #appPreview *ngIf="sampleFile" dataSource="Invoice" [file]="sampleFile"></app-preview>
	</div>
</div>
