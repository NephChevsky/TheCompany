<form [formGroup]="linesForm">
	<table>
		<tr>
			<th *ngFor="let field of fields">{{field}}</th>
		</tr>
		<tbody *ngIf="!editMode">
			<tr *ngFor="let line of data" (click)="linkable && show(line[linkField])" [ngClass]="{'linkable' : linkable}">
				<td *ngFor="let field of fields">
					{{line[field]}}
				</td>
			</tr>
		</tbody>
		<tbody *ngIf="editMode" formArrayName="values">
			<tr *ngFor="let item of values.controls; let i = index" [formGroupName]="i">
				<td *ngFor="let field of fields">
					<input type="text" id="{{i + '.' + field}}"  [formControlName]="field" size=15 (focus)="onFocus($event.target)">
				</td>
			</tr>
		</tbody>
		<tr *ngIf="editMode">
			<td colspan="100%"><button (click)="createNewLine()">Add line</button></td>
		</tr>
	</table>
</form>